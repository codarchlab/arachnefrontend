<div class="modal-header">
    <button type="button" class="close" ng-click="cancel()" aria-hidden="true">&times;</button>
    <h4 class="modal-title">{{'ui_download_as' | transl8}}&nbsp;{{mode.toUpperCase()}}</h4>
</div>
<div class="modal-body" ng-init="reset()">

    <div class="alert" ng-show="message" ng-class="isSuccess() ? 'alert-success' : 'alert-danger'" ng-bind-html="message"></div>

    <form class="form-inline" role="form">
        <div class="row" ng-hide="message">
            <div class="col col-xs-12">{{'ui_download_select' | transl8 }}:</div>
        </div>

        <div class="row" ng-hide="message">
            <div class="form-group space-left col col-xs-2" ng-repeat="format in formats">
                <div class="radio">
                    <label class="radio-inline control-label">
                        <input type="radio" ng-click="changeMode(format)" name="downloadFormat" ng-checked="format === 'csv'">
                        {{format.toUpperCase()}}
                    </label>
                    &nbsp;
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col col-xs-12">
                <button ng-show="isSuccess() === null" class="btn btn-primary" ng-click="downloadAs()">{{'ui_download' | transl8}}</button>
                <button ng-show="isSuccess()" class="btn btn-primary" ng-click="cancel()">{{'ui_ok' | transl8}}</button>
                <button ng-hide="isSuccess()" class="btn btn-default" ng-click="cancel()">{{'ui_cancel' | transl8 }}</button>
                <a style="display:none" target="_blank" id="hiddenDownloadLink">GET DOWNLOAD</a>
            </div>
        </div>

    </form>
</div>
